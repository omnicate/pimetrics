<html>
    <header<>
        <title>PI Metrics</title>
        <script src="js/axios.min.js"></script>
    </header>

    <body>
        <h2>This is a ungly HTML page</h2>
        <table>
            <tr>
                <td><input id="modemCmd" placeholder="Enter modem command" type="text"/></td>
                <td><button id="send" onclick="send()">Send</button></td>
            </tr>
        </table>

        <div id="output">Here goes output</div>

    </body>
    <script>

        function send() {
            axios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';
            axios.defaults.headers.post['Content-Type'] ='application/json;charset=utf-8';

            let payload = document.getElementById("modemCmd").value;
            console.log("Sending payload: ", payload);

            (async () => {
                const response = await axios.post("http://192.168.1.110:8080/send_command", payload);
                console.log(response)
                alert(response);
            })();
        }
    </script>
</html>